(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"./app/containers/examiner/ExamPage/index.js":function(e,n,t){"use strict";t.r(n);var r=t("./node_modules/react/index.js"),a=t.n(r),o=t("./node_modules/react-redux/lib/index.js"),s=t("./node_modules/redux/lib/redux.js"),i=t("./node_modules/reselect/es/index.js"),c=t("./app/utils/injectSaga.js"),p=t("./app/components/LoadingIndicator/index.js"),u=t("./app/containers/examiner/ExamPage/reducer.js"),d=function(e){return e.exam_Examiner||u.b},l=t("./app/containers/examiner/ExamPage/actions.js"),m=t("./node_modules/redux-saga/dist/redux-saga-effects-npm-proxy.cjs.js"),x=t("./node_modules/react-router-redux/lib/index.js"),f=t("./app/utils/request.js"),b=t("./app/utils/local-storage.js"),g=t("./app/constants/service-model.js"),v=t("./app/constants/routers.js"),h=t("./app/utils/request-method.js"),j=regeneratorRuntime.mark(S),w=regeneratorRuntime.mark(k),O=regeneratorRuntime.mark(E),y=regeneratorRuntime.mark(P),_=regeneratorRuntime.mark(N),A=t("./node_modules/lodash/lodash.js");function S(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.put)(Object(x.push)(v.d));case 2:case"end":return e.stop()}},j)}function k(e){var n,t,r,a;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return n=e.payload,t=n.id,r=n.questions,o.prev=1,o.next=4,Object(m.call)(f.a,"".concat(g.e,"/").concat(t),Object(h.b)(r));case 4:if(!(a=o.sent).error){o.next=10;break}return o.next=8,Object(m.put)(Object(l.n)(a.error.message));case 8:o.next=13;break;case 10:return Object(b.i)(),o.next=13,Object(m.put)(Object(x.push)(v.d));case 13:o.next=19;break;case 15:return o.prev=15,o.t0=o.catch(1),o.next=19,Object(m.put)(Object(l.n)(o.t0));case 19:case"end":return o.stop()}},w,null,[[1,15]])}function E(){var e,n,t,r,a,o,s,i;return regeneratorRuntime.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:for(e=Object(b.f)(),n=A.keys(e),t=!0,r=!1,a=void 0,c.prev=5,o=n[Symbol.iterator]();!(t=(s=o.next()).done);t=!0)i=s.value,e[i]=e[i].map(function(e){e.answered="";var n=e.passages;return n&&(e.passages=n.map(function(e){return e.answered="",e})),e});c.next=13;break;case 9:c.prev=9,c.t0=c.catch(5),r=!0,a=c.t0;case 13:c.prev=13,c.prev=14,t||null==o.return||o.return();case 16:if(c.prev=16,!r){c.next=19;break}throw a;case 19:return c.finish(16);case 20:return c.finish(13);case 21:return c.next=23,Object(m.put)(Object(l.i)(e));case 23:Object(b.k)(e);case 24:case"end":return c.stop()}},O,null,[[5,9,13,21],[14,,16,20]])}function P(e){var n,t,r,a;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(n=e.id,o.prev=1,!(t=n===Object(b.e)()?Object(b.f)():null)){o.next=8;break}return o.next=6,Object(m.put)(Object(l.i)(t));case 6:o.next=22;break;case 8:return o.next=10,Object(m.call)(f.a,"".concat(g.e,"/").concat(n));case 10:if(!(r=o.sent).error){o.next=16;break}return o.next=14,Object(m.put)(Object(l.n)(r.error.message));case 14:o.next=22;break;case 16:return a=r.data,t=JSON.parse(a.questions),o.next=20,Object(m.put)(Object(l.i)(t));case 20:Object(b.j)(n),Object(b.k)(t);case 22:o.next=28;break;case 24:return o.prev=24,o.t0=o.catch(1),o.next=28,Object(m.put)(Object(l.n)(o.t0));case 28:case"end":return o.stop()}},y,null,[[1,24]])}function N(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.takeLatest)(l.d,P);case 2:return e.next=4,Object(m.takeLatest)(l.b,S);case 4:return e.next=6,Object(m.takeLatest)(l.c,E);case 6:return e.next=8,Object(m.takeLatest)(l.g,k);case 8:case"end":return e.stop()}},_)}t("./app/containers/examiner/ExamPage/style.scss");var D,T=t("./node_modules/react-helmet/lib/Helmet.js"),I=t("./app/components/Error/index.js"),C=["A: ","B: ","C: ","D: ","E: ","F: ","G: "],G="OPTION_FROM_GIVEN",R=["OPTION","PASSAGE_OPTION"],q="PASSAGE_OPTION_FROM_GIVEN",F=["PASSAGE_TEXT","PASSAGE_OPTION",q];function Q(e){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,n,t,r){D||(D="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,o=arguments.length-3;if(n||0===o||(n={children:void 0}),n&&a)for(var s in a)void 0===n[s]&&(n[s]=a[s]);else n||(n=a||{});if(1===o)n.children=r;else if(o>1){for(var i=new Array(o),c=0;c<o;c++)i[c]=arguments[c+3];n.children=i}return{$$typeof:D,type:e,key:void 0===t?null:""+t,ref:null,props:n,_owner:null}}function H(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V(e,n){return(V=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function J(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}t("./node_modules/lodash/lodash.js");var Y=[q,"PASSAGE_OPTION"],$=L(p.a,{}),z=L("section",{},void 0,L("h3",{},void 0,"Khong co cau hoi nao")),K=L(T.Helmet,{},void 0,L("title",{},void 0,"Examiner-ExamPage"),L("meta",{name:"description",content:"yyyyy"})),X=function(e){function n(e){var t,r,a;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),r=this,a=B(n).call(this,e),t=!a||"object"!==Q(a)&&"function"!=typeof a?M(r):a,J(M(t),"onPassageInputChange",function(e,n){return function(r){e.passages[n].answered=r.target.value,t.props.answer(e)}}),J(M(t),"saveAnswer",function(e,n,r){n.answered=r,t.props.answer({ques:n,sectionId:e.id})}),J(M(t),"onTextboxInputChange",function(e,n){return function(r){t.saveAnswer(e,n,r.target.value)}}),J(M(t),"onPosAnswerChange",function(e,n,r){return function(a){t.saveAnswer(e,n,r)}}),J(M(t),"renderSections",function(){var e=t.props,n=e.loading,r=e.error,a=e.exam;return n?$:r?L(I.a,{err:r}):a?a.map(t.renderQuestions):z}),J(M(t),"renderAnsweredQuestion",function(){var e=0,n=0,r=t.props.exam;return r?(r.forEach(function(t){var r=t.questions;e+=r.length,n+=r.filter(function(e){return e.answered&&e.answered.length}).length}),"".concat(n," / ").concat(e)):"".concat(n," / ").concat(e)}),J(M(t),"renderAnsweredQuestionInSection",function(e){var n=e.length,t=e.filter(function(e){return e.answered&&e.answered.length}).length;return"".concat(t," / ").concat(n)}),J(M(t),"collapseToggle",function(e){return function(n){var r=t.state;r["sec_".concat(e)]=!r["sec_".concat(e)],t.setState({collapse:r})}}),J(M(t),"renderExpandCollap",function(e){return t.checkCollapse(e)?"➕":"➖"}),J(M(t),"checkCollapse",function(e){return t.state.collapse["sec_".concat(e)]}),J(M(t),"renderOption",function(e,n){return L("span",{},n,e)}),J(M(t),"renderSectionOptions",function(e){var n=e.type,r=e.options;return n!==G?"":L("div",{className:"options"},void 0,r.map(t.renderOption))}),J(M(t),"renderHtml",function(e,n){return C[n]+e.replace("#START#",'<span style="text-decoration: underline;">').replace("#END#","</span>")}),J(M(t),"renderQuestionOptionFromGiven",function(e,n,r){return L("div",{className:"list-item-wrapper"},r,L("div",{className:"posible_answer"},void 0,n.text,":   ",t.renderAnswer(e,n)))}),J(M(t),"renderQuestion",function(e,n,r){return L("div",{className:"list-item-wrapper"},r,L("h3",{className:"question-name-view-only"},void 0,"Question ",r+1," - ",n.text),L("div",{className:"posible_answer"},void 0,t.renderAnswer(e,n)))}),J(M(t),"renderPASSAGE_OPTION_FROM_GIVEN",function(e){return L("div",{className:"op"},void 0,e.map(function(e,n){return L("span",{},"op_".concat(n),e)}))}),J(M(t),"renderPASSAGE_TYPES",function(e,n){return L("section",{},void 0,n===q&&t.renderPASSAGE_OPTION_FROM_GIVEN(e.options),L("div",{dangerouslySetInnerHTML:{__html:e.text}}))}),J(M(t),"renderQuestions",function(e,n){var r=e.section,a=e.passage,o=e.questions,s=r.questionType,i=Y.includes(s),c=r.id;return L("section",{className:"section"},"sec_".concat(n),L("section",{className:"section-header"},void 0,L("h3",{},void 0,r.text),L("h3",{onClick:t.collapseToggle(c)},void 0,t.renderAnsweredQuestionInSection(o),"  ",t.renderExpandCollap(c))),G===s&&t.renderSectionOptions(r),F.includes(s)&&t.renderPASSAGE_TYPES(a,s),t.checkCollapse(c)||L("div",{className:"section_options"},void 0,!i&&o.map(function(e,n){return t.renderQuestion(r,e,n)}),i&&o.map(function(e,n){return t.renderQuestionOptionFromGiven(r,e,n)})))}),J(M(t),"renderSummary",function(){var e={id:t.props.match.params.id,questions:t.props.exam};return L("div",{className:"summary"},void 0,L("div",{},void 0,L("span",{className:"btn",onClick:t.props.goHome},void 0,"Về trang danh sách bài thi")),L("div",{},void 0,L("span",{className:"btn",onClick:function(n){return t.props.nopBai(e)}},void 0,"Nộp bài"),L("span",{className:"btn",onClick:t.props.lamLaiBai},void 0,"Làm lại")),L("div",{},void 0,t.renderAnsweredQuestion()))}),t.state={posAnsId:0,textAns:"",quesId:0,currentExam:"",collapse:{}},t}var t,r,o;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&V(e,n)}(n,a.a.Component),t=n,(r=[{key:"componentDidMount",value:function(){var e=this,n=this.props.match.params.id;this.setState({currentExam:n},function(){e.props.loadExam(n)})}},{key:"renderAnswer",value:function(e,n){return R.includes(e.questionType)?this.renderPossibleAnswer(e,n):this.renderTextBoxAnswer(e,n)}},{key:"renderTextBoxAnswer",value:function(e,n){return L("span",{className:"pos_an"},void 0,L("input",{type:"text",className:"text-control",value:n.answered,onChange:this.onTextboxInputChange(e,n)}))}},{key:"renderPossibleAnswer",value:function(e,n){var t=this,r=n.possibleAnswers;return r?r.map(function(r,a){return L("span",{onClick:t.onPosAnswerChange(e,n,r),className:"pos_an ".concat(n.answered===r?"selected":""),dangerouslySetInnerHTML:{__html:t.renderHtml(r,a)}},"post_".concat(a))}):null}},{key:"render",value:function(){return L("article",{},void 0,K,L("div",{className:"exam-page-examiner"},void 0,this.renderSummary(),this.renderSections()))}}])&&H(t.prototype,r),o&&H(t,o),n}(),U=Object(i.b)({exam:Object(i.a)(d,function(e){return e.exam}),loading:Object(i.a)(d,function(e){return e.loading}),error:Object(i.a)(d,function(e){return e.error})}),W=Object(o.connect)(U,function(e){return{loadExam:function(n){return e(Object(l.l)(n))},answer:function(n){return e(Object(l.h)(n))},nopBai:function(n){return e(Object(l.m)(n))},lamLaiBai:function(){return e(Object(l.k)())},goHome:function(){return e(Object(l.j)())}}}),Z=Object(c.a)({key:"exam-page-examiner",saga:N});n.default=Object(s.compose)(Z,W)(X)},"./app/containers/examiner/ExamPage/style.scss":function(e,n,t){var r=t("./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/lib/loader.js!./app/containers/examiner/ExamPage/style.scss");"string"==typeof r&&(r=[[e.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};t("./node_modules/style-loader/lib/addStyles.js")(r,a);r.locals&&(e.exports=r.locals)},"./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/lib/loader.js!./app/containers/examiner/ExamPage/style.scss":function(e,n,t){(e.exports=t("./node_modules/css-loader/dist/runtime/api.js")(!1)).push([e.i,".exam-page-examiner .summary{display:flex;justify-content:space-between;margin-bottom:5px}.exam-page-examiner .summary .btn{border:2px solid #41ADDD;color:#41ADDD;padding:2px 5px;cursor:pointer;border-radius:4px;margin-left:5px;margin-right:5px}.exam-page-examiner .summary .btn:active{background:#41ADDD;color:#FFF}.exam-page-examiner h2{font-size:1.5em}.exam-page-examiner .section{margin-bottom:5px}.exam-page-examiner .section .section-header{display:flex;justify-content:space-between;background:#41ADDD;color:#FFE67C}.exam-page-examiner .section .section-header h3{margin:0;padding-left:5px}.exam-page-examiner .section .section-header h3:last-child{border-left:1px solid white;border-right:1px solid white;margin-right:5px;padding-left:5px;padding-right:5px;cursor:pointer}.exam-page-examiner .options{text-align:center;padding-top:5px}.exam-page-examiner .options span{margin-left:10px;border:1px solid #41ADDD;padding-left:10px;padding-right:10px}.exam-page-examiner .list-item-wrapper{width:100%;padding-bottom:10px}.exam-page-examiner .list-item-wrapper:first-child{border-top:none}.exam-page-examiner .list-item-wrapper h3{margin:0 0 5px 5px}.exam-page-examiner .list-item-wrapper .posible_answer{border-bottom:1px solid #d9eaf3}.exam-page-examiner .list-item-wrapper .posible_answer .pos_an{border:1px solid transparent;padding:0 15px;margin:5px;cursor:pointer}.exam-page-examiner .list-item-wrapper .posible_answer .pos_an_view_only{border:1px solid transparent;padding:0 15px;margin:5px}.exam-page-examiner .list-item-wrapper .posible_answer .selected{border:1px solid #41ADDD;color:#41ADDD}.exam-page-examiner .list-item-wrapper .passage_an{display:flex}.exam-page-examiner .list-item-wrapper .passage_an span{margin-left:5px}.exam-page-examiner .op{margin-top:10px;margin-bottom:10px}.exam-page-examiner .op span{padding-left:10px;padding-right:10px;margin-left:15px;border:1px solid #41ADDD}\n",""])}}]);