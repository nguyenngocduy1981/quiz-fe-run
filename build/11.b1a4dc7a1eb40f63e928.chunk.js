(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"./app/containers/LoginPage/index.js":function(e,t,n){"use strict";n.r(t);var o,r=n("./node_modules/react/index.js"),s=n.n(r),a=(n("./app/containers/LoginPage/style.scss"),n("./node_modules/react-helmet/lib/Helmet.js")),i=n("./app/components/LoadingIndicator/index.js"),c=n("./node_modules/reselect/es/index.js"),u=n("./node_modules/react-redux/lib/index.js"),l=n("./node_modules/redux/lib/redux.js"),p=n("./app/utils/injectSaga.js"),d=n("./app/containers/LoginPage/actions.js"),f=n("./app/containers/LoginPage/reducer.js"),b=function(e){return e.loginResult||f.b},g=n("./node_modules/redux-saga/dist/redux-saga-effects-npm-proxy.cjs.js"),j=n("./node_modules/react-router-redux/lib/index.js"),m=n("./app/utils/request.js"),y=n("./app/utils/request-method.js"),h=n("./app/constants/service-model.js"),v=n("./app/utils/local-storage.js"),x=n("./app/constants/routers.js"),O=n("./app/constants/roles.js"),w=regeneratorRuntime.mark(k),_=regeneratorRuntime.mark(P);n("./node_modules/lodash/lodash.js");function k(e){var t,n,o;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t=e.user,r.next=4,Object(g.call)(m.a,h.g,Object(y.b)({username:t}));case 4:if(!(n=r.sent).error){r.next=10;break}return r.next=8,Object(g.put)(Object(d.e)("Không đăng nhập được vì user sai"));case 8:r.next=22;break;case 10:return o=n.data,Object(v.l)(o),r.next=14,Object(g.put)(Object(d.f)());case 14:if(console.log("data.role: ",o.role),o.role!==O.a){r.next=20;break}return r.next=18,Object(g.put)(Object(j.push)(x.a));case 18:r.next=22;break;case 20:return r.next=22,Object(g.put)(Object(j.push)(x.d));case 22:r.next=29;break;case 24:return r.prev=24,r.t0=r.catch(0),console.log(r.t0),r.next=29,Object(g.put)(Object(d.e)("huuuu"));case 29:case"end":return r.stop()}},w,null,[[0,24]])}function P(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.takeLatest)(d.a,k);case 2:case"end":return e.stop()}},_)}function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t,n,r){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var s=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),t&&s)for(var i in s)void 0===t[i]&&(t[i]=s[i]);else t||(t=s||{});if(1===a)t.children=r;else if(a>1){for(var c=new Array(a),u=0;u<a;u++)c[u]=arguments[u+3];t.children=c}return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function C(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function K(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var q=S(i.a,{}),H=S(a.Helmet,{},void 0,S("title",{},void 0,"LoginPage")),I=function(e){function t(e){var n,o,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,r=R(t).call(this,e),n=!r||"object"!==L(r)&&"function"!=typeof r?K(o):r,U(K(n),"onChange",function(e){n.setState({user:e.target.value})}),U(K(n),"doLogin",function(){var e=n.state.user;n.props.login(e)}),U(K(n),"onClick",function(e){n.doLogin()}),U(K(n),"onKeyUp",function(e){13===e.keyCode&&n.doLogin()}),n.state={user:""},n}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(t,s.a.Component),n=t,(o=[{key:"render",value:function(){var e=this.state.user,t=this.props,n=t.error;return t.loading?q:S("article",{},void 0,H,S("div",{className:"login-page"},void 0,n&&S("h1",{},void 0,n),S("input",{type:"text",className:"form-control",placeholder:"ten dang nhap",value:e,onKeyUp:this.onKeyUp,onChange:this.onChange}),S("button",{onClick:this.onClick},void 0,"Login")))}}])&&C(n.prototype,o),r&&C(n,r),t}(),J=Object(c.b)({loading:Object(c.a)(b,function(e){return e.loading}),error:Object(c.a)(b,function(e){return e.error})}),N=Object(u.connect)(J,function(e){return{login:function(t){return e(Object(d.d)(t))}}}),T=Object(p.a)({key:"login-view-page",saga:P});t.default=Object(l.compose)(T,N)(I)},"./app/containers/LoginPage/style.scss":function(e,t,n){var o=n("./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/lib/loader.js!./app/containers/LoginPage/style.scss");"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n("./node_modules/style-loader/lib/addStyles.js")(o,r);o.locals&&(e.exports=o.locals)},"./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/lib/loader.js!./app/containers/LoginPage/style.scss":function(e,t,n){(e.exports=n("./node_modules/css-loader/dist/runtime/api.js")(!1)).push([e.i,".login-page{width:400px;margin:auto}.login-page h1{color:red}\n",""])}}]);